{"version":3,"sources":["utils/webRTCHandler.js","IntroductionPage/ConnectingButton.js","IntroductionPage/ConnectingButtons.js","store/actions.js","IntroductionPage/IntroductionPage.js","resources/images/Mu.png","JoinRoomPage/JoinRoomTitle.js","JoinRoomPage/JoinRoomInputs.js","JoinRoomPage/OnlyWithAudioCheckbox.js","resources/images/check.png","JoinRoomPage/ErrorMessage.js","JoinRoomPage/JoinRoomButtons.js","environment/environment.js","utils/api.js","JoinRoomPage/JoinRoomContent.js","JoinRoomPage/JoinRoomPage.js","RoomPage/ChatSection/ChatLabel.js","RoomPage/ChatSection/Messages.js","resources/images/sendMessageButton.svg","store/reducer.js","store/store.js","utils/directMessages.js","utils/wss.js","utils/turn.js","RoomPage/ChatSection/NewMessage.js","RoomPage/ChatSection/ChatSection.js","RoomPage/ParticipantsSection/ParticipantsLabel.js","resources/images/Icons/Profile.svg","RoomPage/ParticipantsSection/Participants.js","RoomPage/ParticipantsSection/ParticipantsSection.js","resources/images/camera.svg","resources/images/cameraOff.svg","RoomPage/VideoSection/CameraButton.js","RoomPage/VideoSection/LeaveRoomButton.js","resources/images/mic.svg","resources/images/micOff.svg","RoomPage/VideoSection/MicButton.js","resources/images/Icons/screenshare.svg","RoomPage/VideoSection/LocalScreenSharingPreview.js","RoomPage/VideoSection/SwitchToScreenSharingButton.js","RoomPage/VideoSection/ParticipantsBtn.js","RoomPage/VideoSection/ChatBtn.js","resources/images/Icons/More2.svg","RoomPage/VideoSection/Morebtn.js","RoomPage/VideoSection/VideoButtons.js","RoomPage/VideoSection/VideoSection.js","RoomPage/Overlay.js","Popup/ErrorPopup.js","RoomPage/RoomPage.js","App.js","serviceWorker.js","index.js"],"names":["localStream","ConnectingButton","createRoomButton","buttonText","onClickHandler","buttonClass","className","onClick","ConnectingButtons","history","useHistory","push","Actions","SET_IS_ROOM_HOST","SET_CONNECT_ONLY_WITH_AUDIO","SET_IDENTITY","SET_ROOM_ID","SET_SHOW_OVERLAY","SET_PARTICIPANTS","SET_MESSAGES","SET_ACTIVE_CONVERSATION","SET_DIRECT_CHAT_HISTORY","SET_SOCKET_ID","SET_VALID","SET_SHOWCHAT","SET_SHOWPARTICIPANTS","setIsRoomHost","isRoomHost","type","setRoomId","roomId","setShowOverlay","showOverlay","setValid","text","setDirectChatHistory","directChatHistory","connect","dispatch","setIsRoomHostAction","useEffect","src","alt","JoinRoomTitle","titleText","Input","placeholder","value","changeHandler","onChange","JoinRoomInputs","props","roomIdValue","setRoomIdValue","nameValue","setNameValue","id","console","log","event","target","OnlyWithAudioCheckbox","connectOnlyWithAudio","setConnectOnlyWithAudio","ErrorMessage","errorMessage","Button","cancelButton","JoinRoomButtons","handleJoinRoom","successButtonText","environment","getRoomExists","axios","get","response","data","getTURNCredentials","state","onlyWithAudio","setIdentityAction","identity","setIdentity","setRoomIdAction","useState","setErrorMessage","useLocation","search","slice","createRoom","joinRoom","responseMessage","roomExists","full","URLSearchParams","ChatLabel","Message","author","content","sameAuthor","messageCreatedByMe","alignClass","authorText","contentAdditionalStyles","messages","map","message","index","initState","participants","activeConversation","socketId","valid","showChat","showParticipants","reducer","action","store","configureStore","appendMessageToChatHistory","userSocketId","chatHistory","getState","userChatHistory","find","h","newDirectMessage","isAuthor","messageContent","newUserChatHistory","newChatHistory","filter","socket","connectWithSocketIOServer","io","on","connectedUsers","connUserSocketId","webRTCHandler","emit","receiverSocketId","authorSocketId","appendNewMessageToChatHistory","createNewRoom","onlyAudio","TURNIceServers","fetchTURNCredentials","api","responseData","token","iceServers","defaultConstraints","audio","video","width","height","onlyAudioConstraints","GetLocalPreviewAndInitRoomConnection","constraints","navigator","mediaDevices","getUserMedia","then","stream","showLocalVideoPreview","wss","catch","err","peers","streams","getConfiguration","turnIceServers","urls","warn","prepareNewPeerConnection","isInitiator","configuration","Peer","initiator","config","channelName","signal","addStream","messageData","JSON","parse","appendNewMessage","handleSignalingData","removePeerConnection","videoContainer","document","getElementById","videoEl","srcObject","getTracks","forEach","t","stop","removeChild","parentNode","destroy","videosContainer","classList","add","createElement","videoElement","autoplay","muted","onloadedmetadata","play","appendChild","getAudioOnlyLabel","addEventListener","contains","remove","participant","p","style","position","labelContainer","label","innerHTML","toggleScreenShare","isScreenSharingActive","screenSharingStream","switchVideoTracks","socket_id","index2","kind","replaceTrack","setMessages","NewMessage","setMessage","sendMessage","length","stringifiedMessageData","stringify","send","onKeyDown","key","preventDefault","SendMessageButton","ChatSection","ParticipantsLabel","SingleParticipant","lastItem","setActiveConversationAction","Profile","setActiveConversation","ParticipantsSection","CameraButton","isLocalVideoDisabled","setIsLocalVideoDisabled","CameraButtonImgOff","CameraButtonImg","isDisabled","getVideoTracks","enabled","LeaveRoomButton","siteUrl","window","location","origin","href","viewBox","fill","xmlns","d","MicButton","isMicMuted","setIsMicMuted","MicButtonImgOff","MicButtonImg","isMuted","getAudioTracks","LocalScreenSharingPreview","localPreviewRef","useRef","current","autoPlay","ref","SwitchToScreenSharingButton","setIsScreenSharingActive","setScreenSharingStream","handleScreenShareToggle","getDisplayMedia","SwitchImg","visible","setVisible","setShowParticipants","version","throwIfNamespace","stroke","transform","points","isChatOn","setIsChatOn","setShowChat","Morebtn","Link","show","setShow","handleClick","More","VideoSection","Overlay","ErrorPopup","isOpen","zIndex","reload","App","path","Boolean","hostname","match","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.020475db.chunk.js","sourcesContent":["import { setShowOverlay, setMessages,setValid } from \"../store/actions\";\r\nimport store from \"../store/store\";\r\nimport * as wss from \"./wss\";\r\nimport Peer from \"simple-peer\";\r\nimport { fetchTURNCredentials, getTurnIceServers } from \"./turn\";\r\n\r\n\r\nconst defaultConstraints = {\r\n  audio: true,\r\n  video: {\r\n    width: \"480\",\r\n    height: \"360\",\r\n  },\r\n};\r\n\r\n\r\nconst onlyAudioConstraints = {\r\n  audio: true,\r\n  video: false,\r\n};\r\n\r\nlet localStream;\r\n\r\nexport const GetLocalPreviewAndInitRoomConnection = async (\r\n  isRoomHost,\r\n  identity,\r\n  roomId = null,\r\n  onlyAudio\r\n) => {\r\n  await fetchTURNCredentials();\r\n\r\n  // let history = useHistory();\r\n  const constraints = onlyAudio ? onlyAudioConstraints : defaultConstraints;\r\n navigator.mediaDevices\r\n    .getUserMedia(constraints)  \r\n    .then((stream) => {\r\n      console.log(\"successfuly received local stream\");\r\n      localStream = stream;\r\n      showLocalVideoPreview(localStream);\r\n      // dispatch an action to hide overlay\r\n      store.dispatch(setShowOverlay(false));\r\n     \r\n\r\n      \r\n      isRoomHost\r\n        ? wss.createNewRoom(identity, onlyAudio)\r\n        : wss.joinRoom(identity, roomId, onlyAudio);\r\n       \r\n    })\r\n    .catch((err) => {\r\n     console.log(err)\r\n     store.dispatch(setValid(false));\r\n    });\r\n   \r\n\r\n};\r\n\r\nlet peers = {};\r\nlet streams = [];\r\n\r\nconst getConfiguration = () => {\r\n  const turnIceServers = getTurnIceServers();\r\n\r\n  if (turnIceServers) {\r\n    return {\r\n      iceServers: [\r\n        {\r\n          urls: \"stun:stun.l.google.com:19302\",\r\n        },\r\n        ...turnIceServers,\r\n      ],\r\n    };\r\n  } else {\r\n    console.warn(\"Using only STUN server\");\r\n    return {\r\n      iceServers: [\r\n        {\r\n          urls: \"stun:stun.l.google.com:19302\",\r\n        },\r\n      ],\r\n    };\r\n  }\r\n};\r\n\r\nconst messengerChannel = \"messenger\";\r\n\r\nexport const prepareNewPeerConnection = (connUserSocketId, isInitiator) => {\r\n  const configuration = getConfiguration();\r\n\r\n  peers[connUserSocketId] = new Peer({\r\n    initiator: isInitiator,\r\n    config: configuration,\r\n    stream: localStream,\r\n    channelName: messengerChannel,\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"signal\", (data) => {\r\n    // webRTC offer, webRTC Answer (SDP informations), ice candidates\r\n\r\n    const signalData = {\r\n      signal: data,\r\n      connUserSocketId: connUserSocketId,\r\n    };\r\n\r\n    wss.signalPeerData(signalData);\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"stream\", (stream) => {\r\n    console.log(\"new stream came\");\r\n\r\n    addStream(stream, connUserSocketId);\r\n    streams = [...streams, stream];\r\n  });\r\n\r\n  peers[connUserSocketId].on(\"data\", (data) => {\r\n    const messageData = JSON.parse(data);\r\n    appendNewMessage(messageData);\r\n  });\r\n};\r\n\r\nexport const handleSignalingData = (data) => {\r\n  //add signaling data to peer connection\r\n  peers[data.connUserSocketId].signal(data.signal);\r\n};\r\n\r\nexport const removePeerConnection = (data) => {\r\n  const { socketId } = data;\r\n  const videoContainer = document.getElementById(socketId);\r\n  const videoEl = document.getElementById(`${socketId}-video`);\r\n\r\n  if (videoContainer && videoEl) {\r\n    const tracks = videoEl.srcObject.getTracks();\r\n\r\n    tracks.forEach((t) => t.stop());\r\n\r\n    videoEl.srcObject = null;\r\n    videoContainer.removeChild(videoEl);\r\n\r\n    videoContainer.parentNode.removeChild(videoContainer);\r\n\r\n    if (peers[socketId]) {\r\n      peers[socketId].destroy();\r\n    }\r\n    delete peers[socketId];\r\n  }\r\n};\r\n\r\n////////////////////////////////// UI Videos //////////////////////////////////\r\nconst showLocalVideoPreview = (stream) => {\r\n  const videosContainer = document.getElementById(\"videos_portal\");\r\n  videosContainer.classList.add(\"videos_portal_styles\");\r\n  const videoContainer = document.createElement(\"div\");\r\n  videoContainer.classList.add(\"video_track_container\");\r\n  const videoElement = document.createElement(\"video\");\r\n  videoElement.autoplay = true;\r\n  videoElement.muted = true;\r\n  videoElement.srcObject = stream;\r\n\r\n  videoElement.onloadedmetadata = () => {\r\n    videoElement.play();\r\n  };\r\n\r\n  videoContainer.appendChild(videoElement);\r\n\r\n  if (store.getState().connectOnlyWithAudio) {\r\n    videoContainer.appendChild(getAudioOnlyLabel());\r\n  }\r\n\r\n  videosContainer.appendChild(videoContainer);\r\n};\r\n\r\nconst addStream = (stream, connUserSocketId) => {\r\n  //display incoming stream\r\n  const videosContainer = document.getElementById(\"videos_portal\");\r\n  const videoContainer = document.createElement(\"div\");\r\n  videoContainer.id = connUserSocketId;\r\n\r\n  videoContainer.classList.add(\"video_track_container\");\r\n  const videoElement = document.createElement(\"video\");\r\n  videoElement.autoplay = true;\r\n  videoElement.srcObject = stream;\r\n  videoElement.id = `${connUserSocketId}-video`;\r\n\r\n  videoElement.onloadedmetadata = () => {\r\n    videoElement.play();\r\n  };\r\n\r\n  videoElement.addEventListener(\"click\", () => {\r\n    if (videoElement.classList.contains(\"full_screen\")) {\r\n      videoElement.classList.remove(\"full_screen\");\r\n    } else {\r\n      videoElement.classList.add(\"full_screen\");\r\n    }\r\n  });\r\n\r\n  videoContainer.appendChild(videoElement);\r\n\r\n  // check if other user connected only with audio\r\n  const participants = store.getState().participants;\r\n\r\n  const participant = participants.find((p) => p.socketId === connUserSocketId);\r\n  console.log(participant);\r\n  if (participant?.onlyAudio) {\r\n    videoContainer.appendChild(getAudioOnlyLabel(participant.identity));\r\n  } else {\r\n    videoContainer.style.position = \"static\";\r\n  }\r\n\r\n  videosContainer.appendChild(videoContainer);\r\n};\r\n\r\nconst getAudioOnlyLabel = (identity = \"\") => {\r\n  const labelContainer = document.createElement(\"div\");\r\n  labelContainer.classList.add(\"label_only_audio_container\");\r\n\r\n  const label = document.createElement(\"p\");\r\n  label.classList.add(\"label_only_audio_text\");\r\n  label.innerHTML = `Only audio ${identity}`;\r\n\r\n  labelContainer.appendChild(label);\r\n  return labelContainer;\r\n};\r\n\r\n////////////////////////////////// Buttons logic //////////////////////////////////\r\n\r\nexport const toggleMic = (isMuted) => {\r\n  localStream.getAudioTracks()[0].enabled = isMuted ? true : false;\r\n};\r\n\r\nexport const toggleCamera = (isDisabled) => {\r\n  localStream.getVideoTracks()[0].enabled = isDisabled ? true : false;\r\n};\r\n\r\nexport const toggleScreenShare = (\r\n  isScreenSharingActive,\r\n  screenSharingStream = null\r\n) => {\r\n  if (isScreenSharingActive) {\r\n    switchVideoTracks(localStream);\r\n  } else {\r\n    switchVideoTracks(screenSharingStream);\r\n  }\r\n};\r\n\r\nconst switchVideoTracks = (stream) => {\r\n  for (let socket_id in peers) {\r\n    for (let index in peers[socket_id].streams[0].getTracks()) {\r\n      for (let index2 in stream.getTracks()) {\r\n        if (\r\n          peers[socket_id].streams[0].getTracks()[index].kind ===\r\n          stream.getTracks()[index2].kind\r\n        ) {\r\n          peers[socket_id].replaceTrack(\r\n            peers[socket_id].streams[0].getTracks()[index],\r\n            stream.getTracks()[index2],\r\n            peers[socket_id].streams[0]\r\n          );\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n////////////////////////////////// Messages /////////////////////////////////////\r\nconst appendNewMessage = (messageData) => {\r\n  const messages = store.getState().messages;\r\n  store.dispatch(setMessages([...messages, messageData]));\r\n};\r\n\r\nexport const sendMessageUsingDataChannel = (messageContent) => {\r\n  // append this message locally\r\n  const identity = store.getState().identity;\r\n\r\n  const localMessageData = {\r\n    content: messageContent,\r\n    identity,\r\n    messageCreatedByMe: true,\r\n  };\r\n\r\n  appendNewMessage(localMessageData);\r\n\r\n  const messageData = {\r\n    content: messageContent,\r\n    identity,\r\n  };\r\n\r\n  const stringifiedMessageData = JSON.stringify(messageData);\r\n  for (let socketId in peers) {\r\n    peers[socketId].send(stringifiedMessageData);\r\n  }\r\n};\r\n","import React from \"react\";\r\n\r\nconst ConnectingButton = ({\r\n  createRoomButton = false,\r\n  buttonText,\r\n  onClickHandler,\r\n}) => {\r\n  const buttonClass = createRoomButton\r\n    ? \"create_room_button\"\r\n    : \"join_room_button\";\r\n\r\n  return (\r\n    <button className={buttonClass} onClick={onClickHandler}>\r\n      {buttonText}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default ConnectingButton;\r\n","import React from \"react\";\r\nimport ConnectingButton from \"./ConnectingButton\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst ConnectingButtons = () => {\r\n  let history = useHistory();\r\n\r\n  const pushToJoinRoomPage = () => {\r\n    history.push(\"/join-room\");\r\n  };\r\n\r\n  const pushToJoinRoomPageAsHost = () => {\r\n    history.push(\"/join-room?host=true\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"connecting_buttons_container\">\r\n      <ConnectingButton\r\n        buttonText=\"Join a meeting\"\r\n        onClickHandler={pushToJoinRoomPage}\r\n      />\r\n      <ConnectingButton\r\n        createRoomButton\r\n        buttonText=\"Host a meeting\"\r\n        onClickHandler={pushToJoinRoomPageAsHost}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ConnectingButtons;\r\n","const Actions = {\r\n  SET_IS_ROOM_HOST: \"SET_IS_ROOM_HOST\",\r\n  SET_CONNECT_ONLY_WITH_AUDIO: \"SET_CONNECT_ONLY_WITH_AUDIO\",\r\n  SET_IDENTITY: \"SET_IDENTITY\",\r\n  SET_ROOM_ID: \"SET_ROOM_ID\",\r\n  SET_SHOW_OVERLAY: \"SET_SHOW_OVERLAY\",\r\n  SET_PARTICIPANTS: \"SET_PARTICIPANTS\",\r\n  SET_MESSAGES: \"SET_MESSAGES\",\r\n  SET_ACTIVE_CONVERSATION: 'SET_ACTIVE_CONVERSATION',\r\n  SET_DIRECT_CHAT_HISTORY: 'SET_DIRECT_CHAT_HISTORY',\r\n  SET_SOCKET_ID: 'SET_SOCKET_ID',\r\n  SET_VALID:'SET_VALID',\r\n  SET_SHOWCHAT:\"SET_SHOWCHAT\",\r\n  SET_SHOWPARTICIPANTS:\"SET_SHOWPARTICIPANTS\"\r\n};\r\n\r\nexport const setIsRoomHost = (isRoomHost) => {\r\n  return {\r\n    type: Actions.SET_IS_ROOM_HOST,\r\n    isRoomHost,\r\n  };\r\n};\r\n\r\nexport const setConnectOnlyWithAudio = (onlyWithAudio) => {\r\n  return {\r\n    type: Actions.SET_CONNECT_ONLY_WITH_AUDIO,\r\n    onlyWithAudio,\r\n  };\r\n};\r\n\r\nexport const setIdentity = (identity) => {\r\n  return {\r\n    type: Actions.SET_IDENTITY,\r\n    identity,\r\n  };\r\n};\r\n\r\nexport const setRoomId = (roomId) => {\r\n  return {\r\n    type: Actions.SET_ROOM_ID,\r\n    roomId,\r\n  };\r\n};\r\n\r\nexport const setShowOverlay = (showOverlay) => {\r\n  return {\r\n    type: Actions.SET_SHOW_OVERLAY,\r\n    showOverlay,\r\n  };\r\n};\r\nexport const setValid = (text) => {\r\n  return {\r\n    type: 'SET_VALID',\r\n    text,\r\n  };\r\n};\r\n\r\n\r\nexport const setParticipants = (participants) => {\r\n  return {\r\n    type: Actions.SET_PARTICIPANTS,\r\n    participants,\r\n  };\r\n};\r\n\r\nexport const setMessages = (messages) => {\r\n  return {\r\n    type: Actions.SET_MESSAGES,\r\n    messages,\r\n  };\r\n};\r\n\r\nexport const setActiveConversation = (activeConversation) => {\r\n  return {\r\n    type: Actions.SET_ACTIVE_CONVERSATION,\r\n    activeConversation\r\n  }\r\n}\r\n\r\nexport const setDirectChatHistory = (directChatHistory) => {\r\n  return {\r\n    type: Actions.SET_DIRECT_CHAT_HISTORY,\r\n    directChatHistory\r\n  }\r\n}\r\n\r\nexport const setSocketId = (socketId) => {\r\n  return {\r\n    type: Actions.SET_SOCKET_ID,\r\n    socketId\r\n  }\r\n}\r\nexport const setShowChat =(showChat)=>{\r\n  return{\r\n    type:Actions.SET_SHOWCHAT,\r\n    showChat\r\n  }\r\n}\r\n\r\nexport const setShowParticipants =(showParticipants)=>{\r\n  return{\r\n    type:Actions.SET_SHOWPARTICIPANTS,\r\n    showParticipants\r\n  }\r\n}\r\n\r\nexport default Actions;\r\n","import React, { useEffect } from \"react\";\r\nimport Mu from \"../resources/images/Mu.png\"\r\nimport ConnectingButtons from \"./ConnectingButtons\";\r\nimport { connect } from \"react-redux\";\r\nimport { setIsRoomHost } from \"../store/actions\";\r\n\r\nimport \"./IntroductionPage.css\";\r\n\r\nconst IntroductionPage = ({ setIsRoomHostAction }) => {\r\n  useEffect(() => {\r\n    setIsRoomHostAction(false);\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"introduction_page_container\">\r\n      <div className=\"introduction_page_panel\">\r\n        <img src={Mu} className=\"introduction_page_image\" alt=\"img\"></img>\r\n        <ConnectingButtons />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    setIsRoomHostAction: (isRoomHost) => dispatch(setIsRoomHost(isRoomHost)),\r\n  };\r\n};\r\n\r\nexport default connect(null, mapActionsToProps)(IntroductionPage);\r\n","export default \"data:image/png;base64,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\"","import React from \"react\";\r\n\r\nconst JoinRoomTitle = ({ isRoomHost }) => {\r\n  const titleText = isRoomHost ? \"Host meeting\" : \"Join meeting\";\r\n\r\n  return <p className=\"join_room_title\">{titleText}</p>;\r\n};\r\n\r\nexport default JoinRoomTitle;\r\n","import React from \"react\";\r\n\r\nconst Input = ({ placeholder, value, changeHandler }) => {\r\n  return (\r\n    <input\r\n      value={value}\r\n      onChange={changeHandler}\r\n      className=\"join_room_input\"\r\n      placeholder={placeholder}\r\n    />\r\n  );\r\n};\r\n\r\nconst JoinRoomInputs = (props) => {\r\n  \r\n\r\n  const { roomIdValue, setRoomIdValue, nameValue, setNameValue, isRoomHost, id } =\r\n    props;\r\n   \r\n    console.log(id);\r\n  const handleRoomIdValueChange = (event) => {\r\n    id ? setRoomIdValue(id) : setRoomIdValue(event.target.value);\r\n  };\r\n\r\n  const handleNameValueChange = (event) => {\r\n    setNameValue(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"join_room_inputs_container\">\r\n      {!isRoomHost && id === \"\" && (\r\n        <Input\r\n          placeholder=\"Enter meeting ID\"\r\n          value={roomIdValue}\r\n          changeHandler={handleRoomIdValueChange}\r\n        />\r\n      )}\r\n      <Input\r\n        placeholder=\"Enter your Name\"\r\n        value={nameValue}\r\n        changeHandler={handleNameValueChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JoinRoomInputs;\r\n","import React from \"react\";\r\nimport CheckImg from \"../resources/images/check.png\";\r\n\r\nconst OnlyWithAudioCheckbox = ({\r\n  connectOnlyWithAudio,\r\n  setConnectOnlyWithAudio,\r\n}) => {\r\n  const handleConnectionTypeChange = () => {\r\n    setConnectOnlyWithAudio(!connectOnlyWithAudio);\r\n  };\r\n\r\n  return (\r\n    <div className=\"checkbox_container\">\r\n      <div className=\"checkbox_connection\" onClick={handleConnectionTypeChange}>\r\n        {connectOnlyWithAudio && (\r\n          <img className=\"checkbox_image\" src={CheckImg} alt=\"checkbox\"></img>\r\n        )}\r\n      </div>\r\n      <p className=\"checkbox_container_paragraph\">Only audio</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OnlyWithAudioCheckbox;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABiSURBVHgB7ZHBCQAgCEUdpREaoY0boREaoREawQw8hNShFLz04EOHz8MU4OMKIgZKpkTQwrJG6fMNGoRMN52fjMvltI/ryWaJy01Kn7+5k6p3JqTJ5ACLFE2uuUiriezjywAgdcf6AfL4kwAAAABJRU5ErkJggg==\"","import React from \"react\";\r\n\r\nconst ErrorMessage = ({ errorMessage }) => {\r\n  return (\r\n    <div className=\"error_message_container\">\r\n      {errorMessage && (\r\n        <p className=\"error_message_paragraph\">{errorMessage}</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Button = ({ buttonText, cancelButton = false, onClickHandler }) => {\r\n  const buttonClass = cancelButton\r\n    ? \"join_room_cancel_button\"\r\n    : \"join_room_success_button\";\r\n\r\n  return (\r\n    <button onClick={onClickHandler} className={buttonClass}>\r\n      {buttonText}\r\n    </button>\r\n  );\r\n};\r\n\r\nconst JoinRoomButtons = ({ handleJoinRoom, isRoomHost }) => {\r\n  const successButtonText = isRoomHost ? \"Host\" : \"Join\";\r\n\r\n  const history = useHistory();\r\n\r\n  const pushToIntroductionPage = () => {\r\n    history.push(\"/\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"join_room_buttons_container\">\r\n      <Button buttonText={successButtonText} onClickHandler={handleJoinRoom} />\r\n      <Button\r\n        buttonText=\"Cancel\"\r\n        cancelButton\r\n        onClickHandler={pushToIntroductionPage}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JoinRoomButtons;\r\n","export const environment ={\r\n\r\nBACKEND:\"https://video-meeting-backend2022.herokuapp.com/api\",\r\nSERVER : \"https://video-meeting-backend2022.herokuapp.com/\",\r\n\r\n// BACKEND:\"https://localhost:5002/api\",\r\n// SERVER:\"https://localhost:5002\"\r\n\r\n\r\n}","import axios from \"axios\";\r\nimport {environment} from \"../environment/environment\"\r\n\r\n// const serverApi = \"https://video-meeting-backend2022.herokuapp.com/api\";\r\n\r\nexport const getRoomExists = async (roomId) => {\r\n  const response = await axios.get(`${environment.BACKEND}/room-exists/${roomId}`);\r\n  return response.data;\r\n};\r\n\r\nexport const getTURNCredentials = async () => {\r\n  const response = await axios.get(`${environment.BACKEND}/get-turn-credentials`);\r\n  return response.data;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport JoinRoomInputs from \"./JoinRoomInputs\";\r\nimport { connect } from \"react-redux\";\r\nimport OnlyWithAudioCheckbox from \"./OnlyWithAudioCheckbox\";\r\nimport {\r\n  setConnectOnlyWithAudio,\r\n  setIdentity,\r\n  setRoomId,\r\n} from \"../store/actions\";\r\nimport ErrorMessage from \"./ErrorMessage\";\r\nimport JoinRoomButtons from \"./JoinRoomButtons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { getRoomExists } from \"../utils/api\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\n\r\nconst JoinRoomContent = (props) => {\r\n  const {\r\n    isRoomHost,\r\n    setConnectOnlyWithAudio,\r\n    connectOnlyWithAudio,\r\n    setIdentityAction,\r\n    setRoomIdAction,\r\n  } = props;\r\n\r\n  const [roomIdValue, setRoomIdValue] = useState(\"\");\r\n  const [nameValue, setNameValue] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  const history = useHistory();\r\n  const { search } = useLocation();\r\n  const id = search.slice(4)\r\n  // console.log(\"jdwhvcujehvhcuwevfvhi\",roomIdValue);\r\n\r\n  const handleJoinRoom = async () => {\r\n    setIdentityAction(nameValue);\r\n    if (isRoomHost) {\r\n      createRoom();\r\n    } else {\r\n      await joinRoom();\r\n    }\r\n  };\r\n  \r\n  useEffect(() => {\r\n    if(id){\r\n      setRoomIdValue(id)\r\n    }\r\n  },[id])\r\n\r\n  const joinRoom = async () => {\r\n    const responseMessage = await getRoomExists(roomIdValue);\r\n\r\n    const { roomExists, full } = responseMessage;\r\n\r\n    if (roomExists) {\r\n      if (full) {\r\n        setErrorMessage(\"Meeting is full. Please try again later.\");\r\n      } else {\r\n        // join a room !\r\n        setRoomIdAction(roomIdValue);\r\n        history.push(\"/room\");\r\n      }\r\n    } else {\r\n      setErrorMessage(\"Meeting not found. Check your meeting id.\");\r\n    }\r\n  };\r\n\r\n  const createRoom = () => {\r\n    history.push(\"/room\");\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <JoinRoomInputs\r\n        id={id}\r\n        roomIdValue={roomIdValue}\r\n        setRoomIdValue={setRoomIdValue}\r\n        nameValue={nameValue}\r\n        setNameValue={setNameValue}\r\n        isRoomHost={isRoomHost}\r\n      />\r\n      <OnlyWithAudioCheckbox\r\n        setConnectOnlyWithAudio={setConnectOnlyWithAudio}\r\n        connectOnlyWithAudio={connectOnlyWithAudio}\r\n      />\r\n      <ErrorMessage errorMessage={errorMessage} />\r\n      <JoinRoomButtons\r\n        handleJoinRoom={handleJoinRoom}\r\n        isRoomHost={isRoomHost}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    setConnectOnlyWithAudio: (onlyWithAudio) =>\r\n      dispatch(setConnectOnlyWithAudio(onlyWithAudio)),\r\n    setIdentityAction: (identity) => dispatch(setIdentity(identity)),\r\n    setRoomIdAction: (roomId) => dispatch(setRoomId(roomId)),\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStoreStateToProps,\r\n  mapActionsToProps\r\n)(JoinRoomContent);\r\n","import React, { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { setIsRoomHost } from \"../store/actions\";\r\nimport JoinRoomTitle from \"./JoinRoomTitle\";\r\nimport JoinRoomContent from \"./JoinRoomContent\";\r\n\r\nimport \"./JoinRoomPage.css\";\r\n\r\nconst JoinRoomPage = (props) => {\r\n  const { setIsRoomHostAction, isRoomHost } = props;\r\n\r\n  const search = useLocation().search;\r\n\r\n  useEffect(() => {\r\n    const isRoomHost = new URLSearchParams(search).get(\"host\");\r\n    if (isRoomHost) {\r\n      setIsRoomHostAction(true);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"join_room_page_container\">\r\n      <div className=\"join_room_page_panel\">\r\n        <JoinRoomTitle isRoomHost={isRoomHost} />\r\n        <JoinRoomContent />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    setIsRoomHostAction: (isRoomHost) => dispatch(setIsRoomHost(isRoomHost)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(JoinRoomPage);\r\n","import React from \"react\";\n\nconst ChatLabel = () => {\n  return (\n    <div className=\"chat_label_container\">\n      <p className=\"chat_label_paragraph\">In-call messages</p>\n    </div>\n  );\n};\n\nexport default ChatLabel;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nconst Message = ({ author, content, sameAuthor, messageCreatedByMe }) => {\n  const alignClass = messageCreatedByMe\n    ? \"message_align_right\"\n    : \"message_align_left\";\n\n  const authorText = messageCreatedByMe ? \"You\" : author;\n\n  const contentAdditionalStyles = messageCreatedByMe\n    ? \"message_right_styles\"\n    : \"message_left_styles\";\n\n  return (\n    <div className={`message_container ${alignClass}`}>\n      {!sameAuthor && <p className=\"message_title\">{authorText}</p>}\n      <p className={`message_content ${contentAdditionalStyles}`}>{content}</p>\n    </div>\n  );\n};\n\nconst Messages = ({ messages }) => {\n  return (\n    <div className=\"messages_container\">\n      {messages.map((message, index) => {\n        const sameAuthor =\n          index > 0 && message.identity === messages[index - 1].identity;\n\n        return (\n          <Message\n            key={`${message.content}${index}`}\n            author={message.identity}\n            content={message.content}\n            sameAuthor={sameAuthor}\n            messageCreatedByMe={message.messageCreatedByMe}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nconst mapStoreStateToProps = (state) => {\n  return {\n    ...state,\n  };\n};\n\nexport default connect(mapStoreStateToProps)(Messages);\n","export default __webpack_public_path__ + \"static/media/sendMessageButton.9add4f6d.svg\";","import Actions from \"./actions\";\r\n\r\nconst initState = {\r\n  identity: \"\",\r\n  isRoomHost: false,\r\n  connectOnlyWithAudio: false,\r\n  roomId: null,\r\n  showOverlay: true,\r\n  participants: [],\r\n  messages: [],\r\n  activeConversation: null,\r\n  directChatHistory: [],\r\n  socketId: null,\r\n  valid:true,\r\n  showChat:false,\r\n  showParticipants:false\r\n};\r\n\r\nconst reducer = (state = initState, action) => {\r\n  switch (action.type) {\r\n    case Actions.SET_IS_ROOM_HOST:\r\n      return {\r\n        ...state,\r\n        isRoomHost: action.isRoomHost,\r\n      };\r\n    case Actions.SET_CONNECT_ONLY_WITH_AUDIO:\r\n      return {\r\n        ...state,\r\n        connectOnlyWithAudio: action.onlyWithAudio,\r\n      };\r\n    case Actions.SET_ROOM_ID:\r\n      return {\r\n        ...state,\r\n        roomId: action.roomId,\r\n      };\r\n    case Actions.SET_IDENTITY:\r\n      return {\r\n        ...state,\r\n        identity: action.identity,\r\n      };\r\n    case Actions.SET_SHOW_OVERLAY:\r\n      return {\r\n        ...state,\r\n        showOverlay: action.showOverlay,\r\n      };\r\n      case 'SET_VALID':\r\n        return {\r\n          ...state,\r\n          valid: action.text,\r\n        };\r\n    case Actions.SET_PARTICIPANTS:\r\n      return {\r\n        ...state,\r\n        participants: action.participants,\r\n      };\r\n    case Actions.SET_MESSAGES:\r\n      return {\r\n        ...state,\r\n        messages: action.messages,\r\n      };\r\n      \r\n    case Actions.SET_ACTIVE_CONVERSATION:\r\n      return {\r\n        ...state,\r\n        activeConversation: action.activeConversation\r\n      }\r\n    case Actions.SET_DIRECT_CHAT_HISTORY:\r\n      return {\r\n        ...state,\r\n        directChatHistory: action.directChatHistory\r\n      };\r\n    case Actions.SET_SOCKET_ID:\r\n      return {\r\n        ...state,\r\n        socketId: action.socketId\r\n      }\r\n      case Actions.SET_SHOWCHAT:\r\n        return{\r\n          ...state,\r\n          showChat:action.showChat\r\n        }\r\n        case Actions.SET_SHOWPARTICIPANTS:\r\n        return{\r\n          ...state,\r\n          showParticipants:action.showParticipants\r\n        }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { configureStore } from \"@reduxjs/toolkit\";\nimport reducer from \"./reducer\";\n\nexport const store = configureStore({\n  reducer: reducer,\n});\n\nexport default store;\n","import { setDirectChatHistory } from \"../store/actions\";\r\nimport store from \"../store/store\";\r\n\r\nexport const appendNewMessageToChatHistory = (data) => {\r\n  const { isAuthor, receiverSocketId, authorSocketId } = data;\r\n\r\n  if (isAuthor) {\r\n    appendMessageToChatHistory(receiverSocketId, data);\r\n  } else {\r\n    appendMessageToChatHistory(authorSocketId, data);\r\n  }\r\n};\r\n\r\nconst appendMessageToChatHistory = (userSocketId, data) => {\r\n  const chatHistory = [...store.getState().directChatHistory];\r\n\r\n  const userChatHistory = chatHistory.find((h) => h.socketId === userSocketId);\r\n\r\n  if (userChatHistory) {\r\n    const newDirectMessage = {\r\n      isAuthor: data.isAuthor,\r\n      messageContent: data.messageContent,\r\n      identity: data.identity,\r\n    };\r\n\r\n    const newUserChatHistory = {\r\n      ...userChatHistory,\r\n      chatHistory: [...userChatHistory.chatHistory, newDirectMessage],\r\n    };\r\n\r\n    const newChatHistory = [\r\n      ...chatHistory.filter((h) => h.socketId !== userSocketId),\r\n      newUserChatHistory,\r\n    ];\r\n\r\n    store.dispatch(setDirectChatHistory(newChatHistory));\r\n  } else {\r\n    const newUserChatHistory = {\r\n      socketId: userSocketId,\r\n      chatHistory: [\r\n        {\r\n          isAuthor: data.isAuthor,\r\n          messageContent: data.messageContent,\r\n          identity: data.identity,\r\n        },\r\n      ],\r\n    };\r\n\r\n    const newChatHistory = [...chatHistory, newUserChatHistory];\r\n\r\n    store.dispatch(setDirectChatHistory(newChatHistory));\r\n  }\r\n};\r\n","import io from \"socket.io-client\";\r\nimport { setRoomId, setParticipants, setSocketId } from \"../store/actions\";\r\nimport store from \"../store/store\";\r\nimport * as webRTCHandler from \"./webRTCHandler\";\r\nimport { appendNewMessageToChatHistory } from \"./directMessages\";\r\nimport {environment} from \"../environment/environment\"\r\n\r\n\r\n// const SERVER = \"https://video-meeting-backend2022.herokuapp.com/\";\r\n\r\nlet socket = null;\r\n\r\nexport const connectWithSocketIOServer = () => {\r\n  socket = io(environment.SERVER);\r\n\r\n  socket.on(\"connect\", () => {\r\n    console.log(\"successfully connected with socket io server\");\r\n    console.log(socket.id);\r\n    store.dispatch(setSocketId(socket.id));\r\n  });\r\n\r\n  socket.on(\"room-id\", (data) => {\r\n    const { roomId } = data;\r\n    store.dispatch(setRoomId(roomId));\r\n  });\r\n\r\n  socket.on(\"room-update\", (data) => {\r\n    const { connectedUsers } = data;\r\n    store.dispatch(setParticipants(connectedUsers));\r\n  });\r\n\r\n  socket.on(\"conn-prepare\", (data) => {\r\n    const { connUserSocketId } = data;\r\n\r\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, false);\r\n\r\n    // inform the user which just join the room that we have prepared for incoming connection\r\n    socket.emit(\"conn-init\", { connUserSocketId: connUserSocketId });\r\n  });\r\n\r\n  socket.on(\"conn-signal\", (data) => {\r\n    webRTCHandler.handleSignalingData(data);\r\n  });\r\n\r\n  socket.on(\"conn-init\", (data) => {\r\n    const { connUserSocketId } = data;\r\n    webRTCHandler.prepareNewPeerConnection(connUserSocketId, true);\r\n  });\r\n\r\n  socket.on(\"user-disconnected\", (data) => {\r\n    webRTCHandler.removePeerConnection(data);\r\n  });\r\n\r\n  socket.on(\"direct-message\", (data) => {\r\n    appendNewMessageToChatHistory(data);\r\n  });\r\n};\r\n\r\nexport const createNewRoom = (identity, onlyAudio) => {\r\n  // emit an event to server that we would like to create new room\r\n  const data = {\r\n    identity,\r\n    onlyAudio,\r\n  };\r\n\r\n  socket.emit(\"create-new-room\", data);\r\n};\r\n\r\nexport const joinRoom = (identity, roomId, onlyAudio) => {\r\n  //emit an event to server that we would to join a room\r\n  const data = {\r\n    roomId,\r\n    identity,\r\n    onlyAudio,\r\n  };\r\n\r\n  socket.emit(\"join-room\", data);\r\n};\r\n\r\nexport const signalPeerData = (data) => {\r\n  socket.emit(\"conn-signal\", data);\r\n};\r\n\r\nexport const sendDirectMessage = (data) => {\r\n  socket.emit(\"direct-message\", data);\r\n};\r\n","import * as api from \"./api\";\n\nlet TURNIceServers = null;\n\nexport const fetchTURNCredentials = async () => {\n  const responseData = await api.getTURNCredentials();\n\n  if (responseData.token?.iceServers) {\n    TURNIceServers = responseData.token.iceServers;\n  }\n\n  return TURNIceServers;\n};\n\nexport const getTurnIceServers = () => {\n  return TURNIceServers;\n};\n","import React, { useState } from \"react\";\nimport SendMessageButton from \"../../resources/images/sendMessageButton.svg\";\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\n\nconst NewMessage = () => {\n  const [message, setMessage] = useState(\"\");\n\n  const handleTextChange = (event) => {\n    setMessage(event.target.value);\n  };\n\n  const handleKeyPressed = (event) => {\n    if (event.key === \"Enter\") {\n      event.preventDefault();\n\n      // send message to other users\n      sendMessage();\n    }\n  };\n\n  const sendMessage = () => {\n    if (message.length > 0) {\n      webRTCHandler.sendMessageUsingDataChannel(message);\n      setMessage(\"\");\n    }\n  };\n\n  return (\n    <div className=\"new_message_container\">\n      <input\n        className=\"new_message_input\"\n        value={message}\n        onChange={handleTextChange}\n        placeholder=\"Type your message ...\"\n        type=\"text\"\n        onKeyDown={handleKeyPressed}\n      />\n      <img\n        className=\"new_message_button\"\n        src={SendMessageButton}\n        onClick={sendMessage} alt=\"img\"\n      />\n    </div>\n  );\n};\n\nexport default NewMessage;\n","import React from \"react\";\r\nimport ChatLabel from \"./ChatLabel\";\r\nimport Messages from \"./Messages\";\r\nimport NewMessage from \"./NewMessage\";\r\n\r\nconst ChatSection = () => {\r\n  return (\r\n    <div className=\"chat_section_container\">\r\n    <div className=\"chat-wrapper\">\r\n    <ChatLabel />\r\n      <Messages />\r\n      <NewMessage />\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatSection;\r\n","import React from \"react\";\r\n\r\nconst ParticipantsLabel = () => {\r\n  return (\r\n    <div className=\"participants_label_container\">\r\n      <p className=\"participants_label_paragraph\">Participants</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParticipantsLabel;\r\n","export default __webpack_public_path__ + \"static/media/Profile.60bc0a6f.svg\";","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { setActiveConversation } from \"../../store/actions\";\r\nimport Profile from \"../../resources/images/Icons/Profile.svg\"\r\n\r\nconst SingleParticipant = (props) => {\r\n  const {\r\n    identity,\r\n    lastItem,\r\n    participant,\r\n    setActiveConversationAction,\r\n    socketId,\r\n  } = props;\r\n\r\n  const handleOpenActiveChatbox = () => {\r\n    if (participant.socketId !== socketId) {\r\n      setActiveConversationAction(participant);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <p className=\"participants_paragraph\" onClick={handleOpenActiveChatbox}>\r\n     <span>   <img\r\n          src={Profile}\r\n          alt=\"img\"\r\n        /></span>\r\n        \r\n        {identity}\r\n      </p>\r\n      {!lastItem && <span className=\"participants_separator_line\"></span>}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Participants = ({\r\n  participants,\r\n  setActiveConversationAction,\r\n  socketId,\r\n}) => {\r\n  return (\r\n    <div className=\"participants_container\">\r\n      {participants.map((participant, index) => {\r\n        return (\r\n          <SingleParticipant\r\n            key={participant.identity}\r\n            lastItem={participants.length === index + 1}\r\n            participant={participant}\r\n            identity={participant.identity}\r\n            setActiveConversationAction={setActiveConversationAction}\r\n            socketId={socketId}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nconst mapActionsToProps = (dispatch) => {\r\n  return {\r\n    setActiveConversationAction: (activeConversation) =>\r\n      dispatch(setActiveConversation(activeConversation)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps, mapActionsToProps)(Participants);\r\n","import React from \"react\";\r\nimport ParticipantsLabel from \"./ParticipantsLabel\";\r\nimport Participants from \"./Participants\";\r\n// import DirectChat from './DirectChat/DirectChat';\r\n\r\nconst ParticipantsSection = () => {\r\n  return (\r\n    <div className=\"participants_section_container\">\r\n      <div className=\"participation-wrapper\">\r\n      <ParticipantsLabel />\r\n      <Participants />\r\n      {/* <DirectChat /> */}\r\n      </div>\r\n     \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ParticipantsSection;\r\n","export default __webpack_public_path__ + \"static/media/camera.b50348a3.svg\";","export default __webpack_public_path__ + \"static/media/cameraOff.a61d4a02.svg\";","import React, { useState } from \"react\";\r\n\r\nimport CameraButtonImg from \"../../resources/images/camera.svg\";\r\nimport CameraButtonImgOff from \"../../resources/images/cameraOff.svg\";\r\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\r\n\r\nconst CameraButton = () => {\r\n  const [isLocalVideoDisabled, setIsLocalVideoDisabled] = useState(false);\r\n\r\n  const handleCameraButtonPressed = () => {\r\n    webRTCHandler.toggleCamera(isLocalVideoDisabled);\r\n\r\n    setIsLocalVideoDisabled(!isLocalVideoDisabled);\r\n  };\r\n\r\n  return (\r\n    <div className=\"video_button_container\">\r\n      <img\r\n        src={isLocalVideoDisabled ? CameraButtonImgOff : CameraButtonImg}\r\n        className={`video_button_image${isLocalVideoDisabled?\"-active\":\"\"}`}\r\n        onClick={handleCameraButtonPressed}\r\n        alt=\"cam\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CameraButton;\r\n","import React from \"react\";\r\n\r\nconst LeaveRoomButton = () => {\r\n  const handleRoomDisconnection = () => {\r\n    const siteUrl = window.location.origin;\r\n    window.location.href = siteUrl;\r\n  };\r\n\r\n  return (\r\n    <div className=\"video_button_container\">\r\n      <button className=\"video_button_end\" onClick={handleRoomDisconnection}>\r\n      <svg width=\"17\" height=\"17\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\"\r\n      ><title>Exit</title>\r\n      <path d=\"M6.69433 8.75C6.53962 8.75 6.39125 8.81146 6.28185 8.92085C6.17246 9.03025 6.111 9.17862\r\n       6.111 9.33333V11.0833C6.111 11.5475 5.92663 11.9926 5.59844 12.3208C5.27025 12.649 4.82513 12.8333\r\n       4.361 12.8333H2.91667C2.45254 12.8333 2.00742 12.649 1.67923 12.3208C1.35104 11.9926 1.16667 11.5475\r\n        1.16667 11.0833V2.91667C1.16667 2.45254 1.35104 2.00742 1.67923 1.67923C2.00742 1.35104 2.45254 1.16667 \r\n        2.91667 1.16667H4.361C4.82513 1.16667 5.27025 1.35104 5.59844 1.67923C5.92663 2.00742 6.111 2.45254\r\n         6.111 2.91667V4.66667C6.111 4.82138 6.17246 4.96975 6.28185 5.07915C6.39125 5.18854 6.53962 5.25\r\n          6.69433 5.25C6.84904 5.25 6.99742 5.18854 7.10681 5.07915C7.21621 4.96975 7.27767 4.82138 7.27767\r\n           4.66667V2.91667C7.27674 2.1434 6.96915 1.40208 6.42237 0.855295C5.87559 0.308514 5.13426 0.00092625\r\n            4.361 0H2.91667C2.1434 0.00092625 1.40208 0.308514 0.855295 0.855295C0.308514 1.40208 0.00092625 \r\n            2.1434 0 2.91667L0 11.0833C0.00092625 11.8566 0.308514 12.5979 0.855295 13.1447C1.40208 13.6915 \r\n            2.1434 13.9991 2.91667 14H4.361C5.13426 13.9991 5.87559 13.6915 6.42237 13.1447C6.96915 12.5979 \r\n            7.27674 11.8566 7.27767 11.0833V9.33333C7.27767 9.17862 7.21621 9.03025 7.10681 8.92085C6.99742 \r\n            8.81146 6.84904 8.75 6.69433 8.75Z\" fill=\"white\"></path>\r\n            <path d=\"M13.3389 5.76341L10.6638 \r\n            3.08824C10.6099 3.03253 10.5456 2.98809 10.4744 2.95752C10.4032 2.92694 10.3267 2.91085 10.2492 \r\n            2.91018C10.1718 2.90951 10.095 2.92426 10.0233 2.95359C9.95159 2.98293 9.88646 3.02624 9.83169 \r\n            3.08101C9.77692 3.13578 9.73361 3.20091 9.70428 3.2726C9.67494 3.34429 9.66019 3.4211 9.66086 \r\n            3.49856C9.66153 3.57601 9.67762 3.65256 9.7082 3.72373C9.73877 3.7949 9.78321 3.85926 9.83892 \r\n            3.91307L12.3251 6.39982L3.49984 6.41732C3.34513 6.41732 3.19675 6.47878 3.08736 6.58818C2.97796 \r\n            6.69758 2.9165 6.84595 2.9165 7.00066C2.9165 7.15537 2.97796 7.30374 3.08736 7.41314C3.19675\r\n             7.52253 3.34513 7.58399 3.49984 7.58399L12.3595 7.56591L9.83775 10.0882C9.78204 10.1421 9.7376 \r\n             10.2064 9.70703 10.2776C9.67646 10.3488 9.66036 10.4253 9.65969 10.5028C9.65902 10.5802 9.67378 \r\n             10.657 9.70311 10.7287C9.73244 10.8004 9.77575 10.8655 9.83052 10.9203C9.8853 10.9751 9.95042 \r\n             11.0184 10.0221 11.0477C10.0938 11.0771 10.1706 11.0918 10.2481 11.0911C10.3255 11.0905 10.4021\r\n              11.0744 10.4732 11.0438C10.5444 11.0132 10.6088 10.9688 10.6626 10.9131L13.3378 8.23791C13.666 \r\n              7.90989 13.8505\r\n       7.46494 13.8507 7.0009C13.8509 6.53686 13.6668 6.09174 13.3389 5.76341Z\" fill=\"white\"></path></svg>\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LeaveRoomButton;\r\n","export default __webpack_public_path__ + \"static/media/mic.c9c9788e.svg\";","export default __webpack_public_path__ + \"static/media/micOff.3a72f682.svg\";","import React, { useState } from \"react\";\r\nimport MicButtonImg from \"../../resources/images/mic.svg\";\r\nimport MicButtonImgOff from \"../../resources/images/micOff.svg\";\r\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\r\n\r\nconst MicButton = () => {\r\n  const [isMicMuted, setIsMicMuted] = useState(false);\r\n\r\n  const handleMicButtonPressed = () => {\r\n    webRTCHandler.toggleMic(isMicMuted);\r\n\r\n    setIsMicMuted(!isMicMuted);\r\n  };\r\n\r\n  return (\r\n    <div className=\"video_button_container\">\r\n      <img\r\n        src={isMicMuted ? MicButtonImgOff : MicButtonImg}\r\n        onClick={handleMicButtonPressed}\r\n        className={`video_button_image${isMicMuted?\"-active\":\"\"}`}\r\n        alt=\"img\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MicButton;\r\n","export default __webpack_public_path__ + \"static/media/screenshare.263276ee.svg\";","import React, { useRef, useEffect } from \"react\";\n\nconst LocalScreenSharingPreview = ({ stream }) => {\n  const localPreviewRef = useRef();\n\n  useEffect(() => {\n    const video = localPreviewRef.current;\n\n    video.srcObject = stream;\n\n    video.onloadedmetadata = () => {\n      video.play();\n    };\n  }, [stream]);\n\n  return (\n    <div className=\"local_screen_share_preview\">\n      <video muted autoPlay ref={localPreviewRef}></video>\n    </div>\n  );\n};\n\nexport default LocalScreenSharingPreview;\n","import React, { useState } from \"react\";\r\nimport SwitchImg from \"../../resources/images/Icons/screenshare.svg\";\r\nimport LocalScreenSharingPreview from \"./LocalScreenSharingPreview\";\r\nimport * as webRTCHandler from \"../../utils/webRTCHandler\";\r\n\r\nconst constraints = {\r\n  audio: false,\r\n  video: true,\r\n};\r\n\r\nconst SwitchToScreenSharingButton = () => {\r\n  const [isScreenSharingActive, setIsScreenSharingActive] = useState(false);\r\n  const [screenSharingStream, setScreenSharingStream] = useState(null);\r\n\r\n  const handleScreenShareToggle = async () => {\r\n    if (!isScreenSharingActive) {\r\n      let stream = null;\r\n      try {\r\n        stream = await navigator.mediaDevices.getDisplayMedia(constraints);\r\n      } catch (err) {\r\n        console.log(\r\n          \"error occurred when trying to get an access to screen share stream\"\r\n        );\r\n      }\r\n      if (stream) {\r\n        setScreenSharingStream(stream);\r\n\r\n        webRTCHandler.toggleScreenShare(isScreenSharingActive, stream);\r\n        setIsScreenSharingActive(true);\r\n        // execute here function to switch the video track which we are sending to other users\r\n      }\r\n    } else {\r\n      webRTCHandler.toggleScreenShare(isScreenSharingActive);\r\n      setIsScreenSharingActive(false);\r\n\r\n      // stop screen share stream\r\n      screenSharingStream.getTracks().forEach((t) => t.stop());\r\n      setScreenSharingStream(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"video_button_container\">\r\n        <img\r\n          src={SwitchImg}\r\n          onClick={handleScreenShareToggle}\r\n          className={`video_button_image${isScreenSharingActive?\"-active\":\"\"}`}\r\n        alt=\"img\"\r\n        />\r\n      </div>\r\n      {isScreenSharingActive && (\r\n        <LocalScreenSharingPreview stream={screenSharingStream} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SwitchToScreenSharingButton;\r\n","import React, { useState } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport store from '../../store/store';\r\nimport { setShowParticipants } from '../../store/actions';\r\n\r\n\r\nconst ParticipantsBtn = ({ showParticipants }) => {\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    const handleOnClick = () => {\r\n        setVisible(!showParticipants)\r\n        store.dispatch(setShowParticipants(!visible))\r\n\r\n        console.log(\"onnnnoffff\", visible);\r\n        console.log(\"shhfhfbe\", showParticipants)\r\n    }\r\n    return (\r\n        <div className='video_button_container' onClick={handleOnClick}>\r\n            {/* <svg classname=\"video_button_image\"  width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"><g clip-path=\"url(#clip0_4265_6473)\">\r\n                    <path d=\"M6.349 11H3C2.73478 11 2.48043 11.1054 2.29289 11.2929C2.10536 11.4804 2 11.7348\r\n 2 12V15H0V12C0 11.2044 0.31607 10.4413 0.87868 9.87868C1.44129 9.31607 2.20435 9 3\r\n  9H7.537C7.01384 9.58243 6.61019 10.262 6.349 11ZM21 9H16.463C16.9862 9.58243 17.3898 10.262 \r\n  17.651 11H21C21.2652 11 21.5196 11.1054 21.7071 11.2929C21.8946 11.4804 22 11.7348 22 12V15H24V12C24\r\n   11.2044 23.6839 10.4413 23.1213 9.87868C22.5587 9.31607 21.7956 9 21 9ZM16 13C16 12.2089 15.7654 \r\n   11.4355 15.3259 10.7777C14.8864 10.1199 14.2616 9.60723 13.5307 9.30448C12.7998 9.00173 11.9956 8.92252 \r\n   11.2196 9.07686C10.4437 9.2312 9.73098 9.61217 9.17157 10.1716C8.61216 10.731 8.2312 11.4437 8.07686\r\n    12.2196C7.92252 12.9956 8.00173 13.7998 8.30448 14.5307C8.60723 15.2616 9.11992 15.8864 9.77772 \r\n    16.3259C10.4355 16.7654 11.2089 17 12 17C13.0609 17 14.0783 16.5786 14.8284 15.8284C15.5786 \r\n    15.0783 16 14.0609 16 13ZM14 13C14 13.3956 13.8827 13.7822 13.6629 14.1111C13.4432 14.44 13.1308 \r\n    14.6964 12.7654 14.8478C12.3999 14.9991 11.9978 15.0387 11.6098 14.9616C11.2219 14.8844 10.8655 \r\n    14.6939 10.5858 14.4142C10.3061 14.1345 10.1156 13.7781 10.0384 13.3902C9.96126 13.0022 10.0009 \r\n    12.6001 10.1522 12.2346C10.3036 11.8692 10.56 11.5568 10.8889 11.3371C11.2178 11.1173 11.6044 11 12 11C12.5304 11 13.0391 11.2107 13.4142 11.5858C13.7893 11.9609 14 12.4696 14 13ZM18 21C18 20.2044 17.6839 19.4413 17.1213 18.8787C16.5587 18.3161 15.7956 18 15 18H9C8.20435 18 7.44129 18.3161 6.87868\r\n     18.8787C6.31607 19.4413 6 20.2044 6 21V24H8V21C8 20.7348 8.10536 20.4804 8.29289 20.2929C8.48043 \r\n     20.1054 8.73478 20 9 20H15C15.2652 20 15.5196 20.1054 15.7071 20.2929C15.8946 20.4804 16 20.7348 \r\n    \r\n    16 21V24H18V21ZM22 4C22 3.20888 21.7654 2.43552 21.3259 1.77772C20.8864 1.11992 20.2616 0.607234\r\n     19.5307 0.304484C18.7998 0.00173312 17.9956 -0.0774802 17.2196 0.0768607C16.4437 0.231202 15.731 \r\n     0.612165 15.1716 1.17157C14.6122 1.73098 14.2312 2.44372 14.0769 3.21964C13.9225 3.99557 14.0017 \r\n     4.79983 14.3045 5.53074C14.6072 6.26164 15.1199 6.88636 15.7777 7.32588C16.4355 7.76541 17.2089 8\r\n      18 8C19.0609 8 20.0783 7.57858 20.8284 6.82843C21.5786 6.07828 22 5.06087 22 4ZM20 4C20 4.39557 \r\n      19.8827 4.78224 19.6629 5.11114C19.4432 5.44004 19.1308 5.69639 18.7654 5.84776C18.3999 5.99914 \r\n      17.9978 6.03874 17.6098 5.96157C17.2219 5.8844 16.8655 5.69392 16.5858 5.41422C16.3061 5.13451\r\n      16.1156 4.77815 16.0384 4.39018C15.9613 4.00222 16.0009 3.60009 16.1522 3.23464C16.3036 2.86918\r\n       16.56 2.55683 16.8889 2.33706C17.2178 2.1173 17.6044 2 18 2C18.5304 2 19.0391 2.21072 19.4142 \r\n       2.58579C19.7893 2.96086 20 3.46957 20 4ZM10 4C10 3.20888 9.7654 2.43552 9.32588 1.77772C8.88635 \r\n       1.11992 8.26164 0.607234 7.53073 0.304484C6.79983 0.00173312 5.99556 -0.0774802 5.21964\r\n        0.0768607C4.44371 0.231202 3.73098 0.612165 3.17157 1.17157C2.61216 1.73098 2.2312 2.44372 \r\n        2.07686 3.21964C1.92252 3.99557 2.00173 4.79983 2.30448 5.53074C2.60723 6.26164 3.11992 6.88636\r\n         3.77772 7.32588C4.43552 7.76541 5.20887 8 6 8C7.06087 8 8.07828 7.57858 8.82843 6.82843C9.57857\r\n          6.07828 10 5.06087 10 4ZM8 4C8 4.39557 7.8827 4.78224 7.66294 5.11114C7.44318 5.44004 7.13082\r\n           5.69639 6.76537 5.84776C6.39991 5.99914 5.99778 6.03874 5.60982 5.96157C5.22186 5.8844 4.86549\r\n            5.69392 4.58579 5.41422C4.30608 5.13451 4.1156 4.77815 4.03843 4.39018C3.96126 4.00222 4.00087 \r\n            3.60009 4.15224 3.23464C4.30362 2.86918 4.55996 2.55683 4.88886 2.33706C5.21776 2.1173 5.60444 \r\n            2 6 2C6.53043 2 7.03914 2.21072 7.41421 2.58579C7.78929 2.96086 8 3.46957 8 4Z\" fill=\"white\">\r\n                    </path></g><defs><clipPath id=\"clip0_4265_6473\"><rect width=\"24\" height=\"24\" fill=\"white\">\r\n                    </rect></clipPath></defs></svg> */}\r\n            <svg className={`video_button_image${showParticipants?\"-active\":\"\"}`} width=\"22px\" height=\"14px\" viewBox=\"0 0 22 14\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" throwIfNamespace={false}>\r\n\r\n                <title>Participants</title>\r\n                <desc>Created with Sketch.</desc>\r\n                <g id=\"Icons\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\r\n                    <g id=\"Rounded\" transform=\"translate(-611.000000, -4103.000000)\">\r\n                        <g id=\"Social\" transform=\"translate(100.000000, 4044.000000)\">\r\n                            <g id=\"-Round-/-Social-/-group\" transform=\"translate(510.000000, 54.000000)\">\r\n                                <g>\r\n                                    <polygon id=\"Path\" points=\"0 0 24 0 24 24 0 24\"></polygon>\r\n                                    <path d=\"M16,11 C17.66,11 18.99,9.66 18.99,8 C18.99,6.34 17.66,5 16,5 C14.34,5 13,6.34 13,8 C13,9.66 14.34,11 16,11 Z M8,11 C9.66,11 10.99,9.66 10.99,8 C10.99,6.34 9.66,5 8,5 C6.34,5 5,6.34 5,8 C5,9.66 6.34,11 8,11 Z M8,13 C5.67,13 1,14.17 1,16.5 L1,18 C1,18.55 1.45,19 2,19 L14,19 C14.55,19 15,18.55 15,18 L15,16.5 C15,14.17 10.33,13 8,13 Z M16,13 C15.71,13 15.38,13.02 15.03,13.05 C15.05,13.06 15.06,13.08 15.07,13.09 C16.21,13.92 17,15.03 17,16.5 L17,18 C17,18.35 16.93,18.69 16.82,19 L22,19 C22.55,19 23,18.55 23,18 L23,16.5 C23,14.17 18.33,13 16,13 Z\" id=\"🔹-Icon-Color\" fill=\"#FFF\"></path>\r\n                                </g>\r\n                            </g>\r\n                        </g>\r\n                    </g>\r\n                </g>\r\n            </svg>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n    return {\r\n        ...state,\r\n    };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(ParticipantsBtn)\r\n\r\n","import React, { useState } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport store from '../../store/store'\r\nimport { setShowChat } from '../../store/actions'\r\n\r\n\r\n\r\nconst ChatBtn = ({ showChat }) => {\r\n  const [isChatOn, setIsChatOn] = useState(false);\r\n  const handleOnClick = () => {\r\n    setIsChatOn(!showChat)\r\n    store.dispatch(setShowChat(!isChatOn))\r\n    console.log(\"onnnnoffff\", isChatOn);\r\n    console.log(\"shhfhfbe\", showChat)\r\n  }\r\n\r\n  return (\r\n    <div className={`video_button_container`} onClick={handleOnClick}>\r\n      <svg className={`video_button_image${showChat ? \"-active\" : \"\"}`} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <title>Chat</title>\r\n        <g clip-path=\"url(#clip0_2868_8351)\"><path d=\"M6.28339 19.5943C6.08964 19.5943 5.89424 19.5568 5.70763 19.4793C5.14487 19.2464 4.78117 18.7022 4.78117 18.0932V16.4996C4.78117 15.9311 4.31859 15.4684 3.74997 15.4684C1.68224 15.4684 0 13.7864 0 11.7189V3.74945C0 1.68201 1.68224 0 3.74997 0H16.5001C18.5678 0 20.25 1.68201 20.25 3.74945V11.7189C20.25 13.7864 18.5678 15.4684 16.5001 15.4684H12.4509C11.5339 15.4684 10.6719 15.8254 10.0237 16.4736L7.34281 19.1541C7.05511 19.4418 6.67291 19.5943 6.28339 19.5943V19.5943ZM3.74997 1.87482C2.71619 1.87482 1.87507 2.71582 1.87507 3.74945V11.7189C1.87507 12.7527 2.71619 13.5938 3.74997 13.5938C5.35254 13.5938 6.65625 14.8973 6.65625 16.4996V17.1892L8.69779 15.1481C9.70025 14.1458 11.0331 13.5938 12.4509 13.5938H16.5001C17.534 13.5938 18.3751 12.7527 18.3751 11.7189V3.74945C18.3751 2.71582 17.534 1.87482 16.5001 1.87482H3.74997ZM18.2926 23.885C18.8551 23.6519 19.2188 23.1079 19.2188 22.4989V20.9052C19.2188 20.3366 19.6814 19.8741 20.25 19.8741C22.3178 19.8741 24 18.1921 24 16.1246V6.28033C24 5.7627 23.5803 5.34302 23.0626 5.34302C22.5448 5.34302 22.1251 5.7627 22.1251 6.28033V16.1246C22.1251 17.1584 21.284 17.9995 20.25 17.9995C18.6475 17.9995 17.3438 19.303 17.3438 20.9052V21.5949L15.3024 19.5536C14.2998 18.5513 12.9669 17.9995 11.5493 17.9995H10.7813C10.2636 17.9995 9.84382 18.4189 9.84382 18.9368C9.84382 19.4544 10.2636 19.8741 10.7813 19.8741H11.5493C12.4663 19.8741 13.3282 20.2311 13.9765 20.8793L16.6574 23.5598C16.9451 23.8475 17.3271 24 17.7168 24C17.9104 24 18.1058 23.9623 18.2926 23.885V23.885ZM11.1094 7.78198C11.1094 7.26434 10.6897 6.84467 10.172 6.84467C9.6541 6.84467 9.23436 7.26434 9.23436 7.78198C9.23436 8.2998 9.6541 8.7193 10.172 8.7193C10.6897 8.7193 11.1094 8.2998 11.1094 7.78198ZM14.8594 7.78198C14.8594 7.26434 14.4397 6.84467 13.922 6.84467C13.4041 6.84467 12.9845 7.26434 12.9845 7.78198C12.9845 8.2998 13.4041 8.7193 13.922 8.7193C14.4397 8.7193 14.8594 8.2998 14.8594 7.78198ZM7.35947 7.78198C7.35947 7.26434 6.93973 6.84467 6.42184 6.84467C5.90413 6.84467 5.4844 7.26434 5.4844 7.78198C5.4844 8.2998 5.90413 8.7193 6.42184 8.7193C6.93973 8.7193 7.35947 8.2998 7.35947 7.78198Z\" fill=\"white\"></path></g><defs><clipPath id=\"clip0_2868_8351\"><rect width=\"24\" height=\"24\" fill=\"white\"></rect></clipPath></defs></svg>\r\n    </div>\r\n  )\r\n}\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(ChatBtn); ","export default __webpack_public_path__ + \"static/media/More2.b44ff397.svg\";","import React, { useState } from 'react'\r\nimport More from \"../../resources/images/Icons/More2.svg\";\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\n\r\n\r\nconst Morebtn = ({ roomId }) => {\r\n    const Link = (`https://eclectic-buttercream-298f4c.netlify.app/join-room?id=${roomId}`);\r\n    const [show, setShow] = useState(false);\r\n\r\n    const handleClick = () => {\r\n        console.log(\"more is click\", roomId);\r\n        setShow(!show)\r\n    }\r\n\r\n    return (\r\n        <div className='video_button_container ' >\r\n            <img\r\n                className=\"video_button_image more-dropdown\"\r\n                onClick={handleClick}\r\n                src={More}\r\n                alt=\"img\"\r\n            />\r\n            {show && <div className='more-options'>\r\n                <ul>\r\n                    <CopyToClipboard text={roomId}>\r\n                        <li onClick={handleClick}>\r\n                            < svg width=\"24px\" height=\"24px\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M56.34 17.27C56.2654 17.1214 56.1712 16.9835 56.06 16.86L42.13 2.94C41.8438 2.66648 41.4658 2.50958 41.07 2.5H20.92C19.6159 2.50264 18.3661 3.02185 17.444 3.94395C16.5218 4.86606 16.0026 6.11595 16 7.42V10.62H12.42C11.1159 10.6226 9.86606 11.1418 8.94395 12.064C8.02185 12.9861 7.50264 14.2359 7.5 15.54V56.54C7.50264 57.8441 8.02185 59.0939 8.94395 60.016C9.86606 60.9382 11.1159 61.4574 12.42 61.46H43.08C44.3772 61.4574 45.6211 60.9437 46.542 60.0302C47.463 59.1168 47.9868 57.8771 48 56.58V53.38H51.58C52.8841 53.3774 54.1339 52.8582 55.056 51.936C55.9782 51.0139 56.4974 49.7641 56.5 48.46V17.93C56.4993 17.7005 56.4445 17.4744 56.34 17.27V17.27ZM42.57 7.62L51.38 16.42H42.57V7.62ZM45 56.62C45 57.1292 44.7977 57.6176 44.4376 57.9776C44.0776 58.3377 43.5892 58.54 43.08 58.54H12.42C11.9108 58.54 11.4224 58.3377 11.0624 57.9776C10.7023 57.6176 10.5 57.1292 10.5 56.62V15.62C10.5 15.1108 10.7023 14.6224 11.0624 14.2624C11.4224 13.9023 11.9108 13.7 12.42 13.7H16V48.46C16.0026 49.7641 16.5218 51.0139 17.444 51.936C18.3661 52.8582 19.6159 53.3774 20.92 53.38H45V56.62Z\" fill=\"black\" />\r\n                            </svg>\r\n\r\n                            Copy Meeting ID\r\n                        </li>\r\n                    </CopyToClipboard>\r\n                    <CopyToClipboard text={Link}>\r\n                        <li onClick={handleClick}>\r\n                            < svg width=\"24px\" height=\"24px\" viewBox=\"0 0 64 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path d=\"M56.34 17.27C56.2654 17.1214 56.1712 16.9835 56.06 16.86L42.13 2.94C41.8438 2.66648 41.4658 2.50958 41.07 2.5H20.92C19.6159 2.50264 18.3661 3.02185 17.444 3.94395C16.5218 4.86606 16.0026 6.11595 16 7.42V10.62H12.42C11.1159 10.6226 9.86606 11.1418 8.94395 12.064C8.02185 12.9861 7.50264 14.2359 7.5 15.54V56.54C7.50264 57.8441 8.02185 59.0939 8.94395 60.016C9.86606 60.9382 11.1159 61.4574 12.42 61.46H43.08C44.3772 61.4574 45.6211 60.9437 46.542 60.0302C47.463 59.1168 47.9868 57.8771 48 56.58V53.38H51.58C52.8841 53.3774 54.1339 52.8582 55.056 51.936C55.9782 51.0139 56.4974 49.7641 56.5 48.46V17.93C56.4993 17.7005 56.4445 17.4744 56.34 17.27V17.27ZM42.57 7.62L51.38 16.42H42.57V7.62ZM45 56.62C45 57.1292 44.7977 57.6176 44.4376 57.9776C44.0776 58.3377 43.5892 58.54 43.08 58.54H12.42C11.9108 58.54 11.4224 58.3377 11.0624 57.9776C10.7023 57.6176 10.5 57.1292 10.5 56.62V15.62C10.5 15.1108 10.7023 14.6224 11.0624 14.2624C11.4224 13.9023 11.9108 13.7 12.42 13.7H16V48.46C16.0026 49.7641 16.5218 51.0139 17.444 51.936C18.3661 52.8582 19.6159 53.3774 20.92 53.38H45V56.62Z\" fill=\"black\" />\r\n                            </svg>\r\n                            Copy Share link\r\n                        </li>\r\n                    </CopyToClipboard>\r\n                </ul>\r\n            </div>}\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Morebtn","import React from \"react\";\r\nimport CameraButton from \"./CameraButton\";\r\nimport LeaveRoomButton from \"./LeaveRoomButton\";\r\nimport MicButton from \"./MicButton\";\r\n// import SwitchToScreenSharingButton from \"./SwitchToScreenSharingButton\";\r\nimport { connect } from \"react-redux\";\r\nimport SwitchToScreenSharingButton from \"./SwitchToScreenSharingButton\";\r\nimport ParticipantsBtn from \"./ParticipantsBtn\";\r\nimport ChatBtn from \"./ChatBtn\";\r\nimport Morebtn from \"./Morebtn\";\r\n\r\n\r\nconst VideoButtons = ({ connectOnlyWithAudio, roomId }) => {\r\n  // const { connectOnlyWithAudio } = props;\r\n\r\n  return (\r\n    <div className=\"video_buttons_container\">\r\n      <ParticipantsBtn/>\r\n      <MicButton />\r\n      {!connectOnlyWithAudio && <CameraButton />}\r\n      <LeaveRoomButton />\r\n      {!connectOnlyWithAudio && <SwitchToScreenSharingButton />}\r\n      <ChatBtn/>\r\n      <Morebtn  roomId={roomId}/>\r\n      {/* <button>chat</button> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(VideoButtons);\r\n","import React from \"react\";\r\nimport VideoButtons from \"./VideoButtons\";\r\n\r\nconst VideoSection = ({roomId}) => {\r\n  return (\r\n    <div className=\"video_section_container\">\r\n      <VideoButtons roomId={roomId} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoSection;\r\n","import React from \"react\";\r\nconst Overlay = () => {\r\n  return (\r\n    <div className=\"overlay_container\">\r\n     \r\n      <div className=\"loader\" >\r\n       \r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Overlay;\r\n","import React from 'react'\r\n// import PrimaryButton from '../../globalComponents/buttons/primaryButton/PrimaryButton'\r\nimport './error.css'\r\n\r\nconst ErrorPopup = ({isOpen}) => {\r\n\r\n    const navigate =()=>{\r\n            window.location.href=\"https://eclectic-buttercream-298f4c.netlify.app\"\r\n            console.log(\"click\")\r\n    }\r\n\r\n    return (\r\n        <div className={`popupOuter ${isOpen ? 'active' : ''}`}>\r\n            <div className=\"confirmationPopupContainer\">\r\n                {/* <div className=\"popupHeader\">\r\n                    <p className=\"popupTitle\">{\"Error!!\"}</p>\r\n                    <img onClick={onClick} src=\"../resources/images/x-close.svg\" alt=\"\" />\r\n                </div> */}\r\n                <div className=\"popupBody\">\r\n                    <p className=\"popupText\"> <b>{\"Error occurred when trying to get an access to your Audio or Video devices\"}</b>. Please get back to home page</p>\r\n                    <div className=\"popupBtnGrp\">\r\n                        {/* <PrimaryButton classname={btnType} children={btnText}/>\r\n                         */}\r\n\r\n                         <button style={{zIndex:'10000000000000'}} type=\"btn\" onClick={navigate} alt=\"btn\" className='btn-blue'>Continue</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ErrorPopup","import React, { useEffect,useState } from \"react\";\r\nimport ChatSection from \"./ChatSection/ChatSection\";\r\nimport ParticipantsSection from \"./ParticipantsSection/ParticipantsSection\";\r\nimport VideoSection from \"./VideoSection/VideoSection\";\r\nimport { connect } from \"react-redux\";\r\nimport * as webRTCHandler from \"../utils/webRTCHandler\";\r\nimport Overlay from \"./Overlay\";\r\nimport ErrorPopup from \"../Popup/ErrorPopup\";\r\nimport \"./RoomPage.css\";\r\n\r\n\r\nconst RoomPage = ({\r\n  roomId,\r\n  identity,\r\n  isRoomHost,\r\n  showOverlay,\r\n  connectOnlyWithAudio,\r\n  valid,\r\n  showChat,\r\n  showParticipants\r\n}) => {\r\n  const [show, setShow] = useState(false);\r\n  useEffect(() => {\r\n    if (!isRoomHost && !roomId) {\r\n      const siteUrl = window.location.origin;\r\n      window.location.href = siteUrl;\r\n    } else {\r\n     webRTCHandler.GetLocalPreviewAndInitRoomConnection(\r\n        isRoomHost,\r\n        identity,\r\n        roomId,\r\n        connectOnlyWithAudio\r\n      )\r\n      console.log(valid);  \r\n    }\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\nuseEffect(()=>{\r\n  if(!valid && !connectOnlyWithAudio){\r\n    setShow(true)\r\n  }\r\n},[valid,connectOnlyWithAudio])\r\n\r\n\r\nwindow.addEventListener('popstate', function(){\r\n  \t\twindow.location.reload()\r\n  \t}, false);\r\n  \r\n \r\n  return (\r\n    <div className=\"room_container\">\r\n      { showParticipants && <ParticipantsSection />}\r\n      <ErrorPopup isOpen={show}/>\r\n      <VideoSection roomId={roomId}  />\r\n      {showChat && <ChatSection />}\r\n      {/* <RoomLabel roomId={roomId} /> */}\r\n      {showOverlay && <Overlay />}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStoreStateToProps = (state) => {\r\n  return {\r\n    ...state,\r\n  };\r\n};\r\n\r\nexport default connect(mapStoreStateToProps)(RoomPage);\r\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport IntroductionPage from \"./IntroductionPage/IntroductionPage\";\nimport JoinRoomPage from \"./JoinRoomPage/JoinRoomPage\";\nimport RoomPage from \"./RoomPage/RoomPage\";\nimport { connectWithSocketIOServer } from \"./utils/wss\";\n\nimport \"./App.css\";\n\nfunction App() {\n  useEffect(() => {\n    connectWithSocketIOServer();\n  }, []);\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/join-room\">\n          <JoinRoomPage />\n        </Route>\n        <Route path=\"/room\">\n          <RoomPage />\n        </Route>\n        <Route path=\"/\">\n          <IntroductionPage />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { store } from './store/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}